{"code":"(this[\"webpackJsonp2.20\"]=this[\"webpackJsonp2.20\"]||[]).push([[0],{21:function(e,n,t){},41:function(e,n,t){\"use strict\";t.r(n);var o=t(2),s=t.n(o),r=t(16),c=t.n(r),a=(t(21),t(3)),u=t(0),l=function(e){var n=e.newSearch,t=e.handleNewSearch;return Object(u.jsxs)(\"div\",{children:[\"filter to show with: \",Object(u.jsx)(\"input\",{value:n,onChange:t})]})},i=function(e){var n=e.persons,t=e.newSearch,o=e.rmFunction;return 1===n.length&&\"\"===n[0].name&&\"\"===n[0].number?null:Object(u.jsx)(\"div\",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(u.jsx)(d,{person:e,rmFunction:o},e.id)}))})},d=function(e){var n=e.person,t=e.rmFunction;return Object(u.jsxs)(\"div\",{className:\"person\",children:[Object(u.jsxs)(\"p\",{children:[n.name,\" \",n.number]},n.name),Object(u.jsx)(\"button\",{onClick:function(){return t(n)},children:\"delete\"})]})},h=function(e){var n=e.message;return null===n?null:Object(u.jsx)(\"div\",{className:\"success\",children:n})},b=function(e){var n=e.message;return null===n?null:Object(u.jsx)(\"div\",{className:\"failure\",children:n})},j=function(e){var n=e.addName,t=e.newName,o=e.handleNewName,s=e.newNumber,r=e.handleNewNumber;return Object(u.jsx)(\"div\",{children:Object(u.jsxs)(\"form\",{onSubmit:n,children:[Object(u.jsxs)(\"div\",{children:[\"name: \",Object(u.jsx)(\"input\",{value:t,onChange:o}),\"number: \",Object(u.jsx)(\"input\",{value:s,onChange:r})]}),Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})})},m=t(4),f=t.n(m),p=\"/api/persons/\",g={getAllPersons:function(){return f.a.get(p)},postPerson:function(e){return f.a.post(p,e)},rmPerson:function(e){return f.a.delete(p+e.id)},changePerson:function(e,n){return f.a.put(p+e.id,n)}},O=function(){var e=Object(o.useState)([{name:\"\",number:\"\"}]),n=Object(a.a)(e,2),t=n[0],s=n[1],r=Object(o.useState)(\"\"),c=Object(a.a)(r,2),d=c[0],m=c[1],f=Object(o.useState)(\"\"),p=Object(a.a)(f,2),O=p[0],v=p[1],w=Object(o.useState)(\"\"),x=Object(a.a)(w,2),S=x[0],N=x[1],C=Object(o.useState)(null),q=Object(a.a)(C,2),P=q[0],y=q[1],k=Object(o.useState)(null),F=Object(a.a)(k,2),L=F[0],R=F[1],T=function(){setTimeout((function(){y(null)}),5e3)},D=function(){setTimeout((function(){R(null)}),5e3)},E=function(){return g.getAllPersons().then((function(e){s(e.data)})).catch((function(e){e.response?(R(\"Server responded, but there was another fault.\\nCheck your console.\"),console.log(e.response.data),console.log(e.response.headers),console.log(e.response.status)):e.request?(R(\"Request made to fetch persons, but no response received.\\nSee console.\"),console.log(e.request)):(R(\"Error: \",e.message),console.log(e.message)),D()}))};Object(o.useEffect)(E,[]);return Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(h,{message:P}),Object(u.jsx)(b,{message:L}),Object(u.jsx)(\"h2\",{children:\"Phonebook\"}),Object(u.jsx)(j,{addName:function(e){e.preventDefault();var n={name:d,number:O},o=t.filter((function(e){return e.name.toLowerCase()===d.toLowerCase()}));if(o.length>0){var r=\"\".concat(o[0].name,\" is already in the list.\\nWanna change number?\");window.confirm(r)&&g.changePerson(o[0],n).then((function(e){s(t.map((function(n){return n.id!==e.data.id?n:e.data}))),y(\"Changed \".concat(e.data.name)),T()})).catch((function(e){e.response?(y(\"Server responded, but there was another fault(person probably already gone).\\nCheck your console.\"),T(),console.log(e.response.data),console.log(e.response.headers),console.log(e.response.status)):e.request?(R(\"Request to edit person sent, but no response.\\nSee console.\"),console.log(e.request)):R(e.message),D()}))}else g.postPerson(n).then((function(e){s(t.concat(e.data)),y(\"Person added.\"),T()})).catch((function(e){e.response?(R(\"Server responded, but there was another fault.\\nCheck your console.\"),console.log(e.response.data),console.log(e.response.headers),console.log(e.response.status)):e.request?(R(\"Request to add person sent, but no response.\\nSee console.\"),console.log(e.request)):R(e.message),D()}));m(\"\"),v(\"\")},newName:d,handleNewName:function(e){m(e.target.value)},newNumber:O,handleNewNumber:function(e){v(e.target.value)}}),Object(u.jsx)(\"h2\",{children:\"Numbers\"}),Object(u.jsx)(l,{newSearch:S,handleNewSearch:function(e){N(e.target.value)}}),Object(u.jsx)(i,{newSearch:S,persons:t,rmFunction:function(e){var n=\"Delete \".concat(e.name,\"?\");window.confirm(n)&&g.rmPerson(e).then((function(n){204===n.status&&(s(t.filter((function(n){return n.id!==e.id}))),y(\"Removed \".concat(e.name)),T())})).catch((function(e){e.response?(R(\"Server responded, but there was another fault (person probably already removed).\\nCheck your console.\"),console.log(e.response.data),console.log(e.response.headers),console.log(e.response.status)):e.request?(R(\"Requested removal of person, but no response.\\nSee console.\"),console.log(e.request)):R(e.message),D(),E()}))}})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,o=n.getFID,s=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),o(e),s(e),r(e),c(e)}))};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById(\"root\")),v()}},[[41,1,2]]]);","name":"static/js/main.7ad0063d.chunk.js","map":{"version":3,"sources":["static/js/main.7ad0063d.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","jsx_runtime","Phonebook_PhonebookFilter","_ref","newSearch","handleNewSearch","Object","children","value","onChange","Phonebook_PhonebookList","_ref3","persons","rmFunction","length","name","number","filter","person","toLowerCase","includes","map","Phonebook_PhonebookLine","id","_ref4","className","onClick","Phonebook_SuccessBox","_ref5","message","Phonebook_FailureBox","_ref6","Phonebook","_ref2","addName","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","axios","axios_default","baseURL","services_persons","getAllPersons","a","get","postPerson","post","rmPerson","delete","changePerson","newPerson","put","src_App","_useState","_useState2","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearch","_useState9","_useState10","success","setNewSuccess","_useState11","_useState12","failure","setNewFailure","resetSuccess","setTimeout","resetFailure","fetchPersons","then","response","data","catch","error","console","log","headers","status","request","event","preventDefault","nameObject","filtered","msg","concat","window","confirm","target","removed","src_reportWebVitals","onPerfEntry","Function","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonp2.20\"] = this[\"webpackJsonp2.20\"] || []).push([[0],{\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Phonebook.js\n// Component to filter out entries\nvar Phonebook_PhonebookFilter=function PhonebookFilter(_ref){var newSearch=_ref.newSearch,handleNewSearch=_ref.handleNewSearch;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter to show with: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newSearch,onChange:handleNewSearch})]});};// Component to handle addition\nvar Phonebook_PhonebookForm=// Pass functions and state variables\nfunction PhonebookForm(_ref2){var addName=_ref2.addName,newName=_ref2.newName,handleNewName=_ref2.handleNewName,newNumber=_ref2.newNumber,handleNewNumber=_ref2.handleNewNumber;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addName,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:handleNewName}),\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newNumber,onChange:handleNewNumber})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]})});};// Component to display list of persons\nvar Phonebook_PhonebookList=function PhonebookList(_ref3){var persons=_ref3.persons,newSearch=_ref3.newSearch,rmFunction=_ref3.rmFunction;// Prevent list from rendering when no data has been received\nif(persons.length===1&&persons[0].name===''&&persons[0].number===''){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:// Filter and render persons by search term incasesensitively\npersons.filter(function(person){return person.name.toLowerCase().includes(newSearch.toLowerCase());}).map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook_PhonebookLine,{person:person,rmFunction:rmFunction},person.id);})});};// And individual entry to phonebook, delete-button included\n// rmFunction: what to call when delete-button pressed\nvar Phonebook_PhonebookLine=function PhonebookLine(_ref4){var person=_ref4.person,rmFunction=_ref4.rmFunction;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"person\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[person.name,\" \",person.number]},person.name),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return rmFunction(person);},children:\"delete\"})]});};// Component to display messages to user\nvar Phonebook_SuccessBox=function SuccessBox(_ref5){var message=_ref5.message;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"success\",children:message});};// Component to display failure message\nvar Phonebook_FailureBox=function FailureBox(_ref6){var message=_ref6.message;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"failure\",children:message});};/* harmony default export */ var Phonebook = (Phonebook_PhonebookForm);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\n// All pretty empty and selfexplanatory\nvar baseURL=\"/api/persons/\";var persons_getAllPersons=function getAllPersons(){return axios_default.a.get(baseURL);};var persons_postPerson=function postPerson(person){return axios_default.a.post(baseURL,person);};var persons_rmPerson=function rmPerson(person){return axios_default.a.delete(baseURL+person.id);};var persons_changePerson=function changePerson(person,newPerson){return axios_default.a.put(baseURL+person.id,newPerson);};var personsService={getAllPersons:persons_getAllPersons,postPerson:persons_postPerson,rmPerson:persons_rmPerson,changePerson:persons_changePerson};/* harmony default export */ var services_persons = (personsService);\n// CONCATENATED MODULE: ./src/App.js\n// Phonebook exercise\nvar App_App=function App(){// Initialize states\n// Array of person-objects\nvar _useState=Object(react[\"useState\"])([{name:'',number:''}]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];// Next three states for user input\nvar _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newSearch=_useState8[0],setNewSearch=_useState8[1];// Next two states for messages to display\nvar _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),success=_useState10[0],setNewSuccess=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),failure=_useState12[0],setNewFailure=_useState12[1];// Function to reset successmessage\nvar resetSuccess=function resetSuccess(){setTimeout(function(){setNewSuccess(null);},5000);};// Function to reset failuremessage\nvar resetFailure=function resetFailure(){setTimeout(function(){setNewFailure(null);},5000);};// Function to get list of persons from server\nvar fetchPersons=function fetchPersons(){return services_persons.getAllPersons().then(function(response){setPersons(response.data);}).catch(function(error){if(error.response){setNewFailure(\"Server responded, but there was another fault.\\nCheck your console.\");console.log(error.response.data);console.log(error.response.headers);console.log(error.response.status);}else if(error.request){setNewFailure(\"Request made to fetch persons, but no response received.\\nSee console.\");console.log(error.request);}else{setNewFailure(\"Error: \",error.message);console.log(error.message);}resetFailure();});};// Get persons on first render\nObject(react[\"useEffect\"])(fetchPersons,[]);// Function to add name to persons\nvar addName=function addName(event){// Fetch persons again to avoid conflict/duplicate entry from another client\n// Doesn't really work tho because we'd have to wait\n// fetchPersons()\nevent.preventDefault();// Temporary object for person\nvar nameObject={name:newName,number:newNumber};// Check for duplicate name-entry\nvar filtered=persons.filter(function(person){return person.name.toLowerCase()===newName.toLowerCase();});if(filtered.length>0){// Duplicate entry -> ask for edit\nvar msg=\"\".concat(filtered[0].name,\" is already in the list.\\nWanna change number?\");if(window.confirm(msg)){services_persons.changePerson(filtered[0],nameObject).then(function(response){// Success -> add response data so local persons matches server\nsetPersons(persons.map(function(person){return person.id!==response.data.id?person:response.data;}));setNewSuccess(\"Changed \".concat(response.data.name));resetSuccess();}).catch(function(error){if(error.response){setNewSuccess(\"Server responded, but there was another fault(person probably already gone).\"+\"\\nCheck your console.\");resetSuccess();console.log(error.response.data);console.log(error.response.headers);console.log(error.response.status);}else if(error.request){setNewFailure(\"Request to edit person sent, but no response.\\nSee console.\");console.log(error.request);}else{setNewFailure(error.message);}resetFailure();});}}else{// Not a duplicate -> just add entry\nservices_persons.postPerson(nameObject).then(function(response){// Success -> just add response data so local persons matches server\nsetPersons(persons.concat(response.data));setNewSuccess(\"Person added.\");resetSuccess();}).catch(function(error){if(error.response){setNewFailure(\"Server responded, but there was another fault.\\nCheck your console.\");console.log(error.response.data);console.log(error.response.headers);console.log(error.response.status);}else if(error.request){setNewFailure(\"Request to add person sent, but no response.\\nSee console.\");console.log(error.request);}else{setNewFailure(error.message);}resetFailure();});}// Reset input-states again\nsetNewName(\"\");setNewNumber(\"\");};// Function to handle input to name field\nvar handleNewName=function handleNewName(event){setNewName(event.target.value);};// Function to handle input to number field\nvar handleNewNumber=function handleNewNumber(event){setNewNumber(event.target.value);};// Function to handle input to search field\nvar handleNewSearch=function handleNewSearch(event){setNewSearch(event.target.value);};// Function to remove person\nvar handleRemoval=function handleRemoval(person){var msg=\"Delete \".concat(person.name,\"?\");if(window.confirm(msg)){// Check if person already removed by another client\nservices_persons.rmPerson(person).then(function(response){if(response.status===204){setPersons(persons.filter(function(removed){return removed.id!==person.id;}));setNewSuccess(\"Removed \".concat(person.name));resetSuccess();}}).catch(function(error){if(error.response){setNewFailure(\"Server responded, but there was another fault (person probably already removed).\\nCheck your console.\");console.log(error.response.data);console.log(error.response.headers);console.log(error.response.status);}else if(error.request){setNewFailure(\"Requested removal of person, but no response.\\nSee console.\");console.log(error.request);}else{setNewFailure(error.message);}resetFailure();// refetch persons in case there was conflict with server\nfetchPersons();});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook_SuccessBox,{message:success}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook_FailureBox,{message:failure}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook,{addName:addName,newName:newName,handleNewName:handleNewName,newNumber:newNumber,handleNewNumber:handleNewNumber}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook_PhonebookFilter,{newSearch:newSearch,handleNewSearch:handleNewSearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phonebook_PhonebookList,{newSearch:newSearch,persons:persons,rmFunction:handleRemoval})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 42)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[41,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/mick0/Documents/FSO/FSO/2/2.20/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mick0/Documents/FSO/FSO/2/2.20/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mick0/Documents/FSO/FSO/2/2.20/node_modules/postcss-loader/src/index.js??postcss!/home/mick0/Documents/FSO/FSO/2/2.20/src/index.css","/home/mick0/Documents/FSO/FSO/2/2.20/src/components/Phonebook.js","/home/mick0/Documents/FSO/FSO/2/2.20/src/services/persons.js","/home/mick0/Documents/FSO/FSO/2/2.20/src/App.js","/home/mick0/Documents/FSO/FSO/2/2.20/src/reportWebVitals.js","/home/mick0/Documents/FSO/FSO/2/2.20/src/index.js"],"names":["PhonebookFilter","newSearch","handleNewSearch","PhonebookForm","addName","newName","handleNewName","newNumber","handleNewNumber","PhonebookList","persons","rmFunction","length","name","number","filter","person","toLowerCase","includes","map","id","PhonebookLine","SuccessBox","message","FailureBox","baseURL","getAllPersons","axios","get","postPerson","post","rmPerson","delete","changePerson","newPerson","put","personsService","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","success","setNewSuccess","failure","setNewFailure","resetSuccess","setTimeout","resetFailure","fetchPersons","then","response","data","catch","error","console","log","headers","status","request","useEffect","event","preventDefault","nameObject","filtered","msg","window","confirm","concat","target","value","handleRemoval","removed","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react'\n\n// Component to filter out entries\nconst PhonebookFilter = ({newSearch, handleNewSearch}) => {\n  return(\n    <div>\n    filter to show with: <input value={newSearch} onChange={handleNewSearch}/>\n    </div>\n  )\n}\n\n// Component to handle addition\nconst PhonebookForm = // Pass functions and state variables\n  ({addName, newName, handleNewName, newNumber, handleNewNumber}) => {\n  return(\n    <div>\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNewName}/>\n        number: <input value={newNumber} onChange={handleNewNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n        </div>\n    </form>\n    </div>\n  )\n}\n\n// Component to display list of persons\nconst PhonebookList = ({persons, newSearch, rmFunction}) => {\n  // Prevent list from rendering when no data has been received\n  if (persons.length === 1 && persons[0].name === '' && persons[0].number === '') {\n    return null\n  }\n  return (\n    <div>\n    { // Filter and render persons by search term incasesensitively\n    persons.filter( person =>\n        person.name.toLowerCase().includes(newSearch.toLowerCase())).map(\n          person => <PhonebookLine key={person.id} person={person} rmFunction={rmFunction} />\n        )\n    }\n    </div>\n  )\n}\n\n// And individual entry to phonebook, delete-button included\n// rmFunction: what to call when delete-button pressed\nconst PhonebookLine = ({person, rmFunction}) => {\n  return(\n    <div className=\"person\">\n    <p key={person.name}>{person.name} {person.number}</p><button onClick={() => rmFunction(person)}>delete</button>\n    </div>\n  )\n}\n// Component to display messages to user\nconst SuccessBox = ({message}) => {\n  if (message === null) {\n    return null\n  }\n  return(\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n// Component to display failure message\nconst FailureBox = ({message}) => {\n  if (message === null) {\n    return null\n  }\n  return(\n    <div className=\"failure\">\n      {message}\n    </div>\n  )\n}\n\nexport default PhonebookForm\nexport {PhonebookFilter, PhonebookList, SuccessBox, FailureBox}\n","// All pretty empty and selfexplanatory\n\nimport axios from 'axios'\n\nconst baseURL = \"/api/persons/\"\n\nconst getAllPersons = () => {\n  return axios.get(baseURL)\n}\n\nconst postPerson = person => {\n  return axios.post(baseURL, person)\n}\n\nconst rmPerson = person => {\n    return(axios.delete(baseURL + person.id))\n}\n\nconst changePerson = (person, newPerson) => {\n    return axios.put(baseURL + person.id, newPerson)\n}\n\nconst personsService = {\n  getAllPersons: getAllPersons,\n  postPerson: postPerson,\n  rmPerson: rmPerson,\n  changePerson: changePerson\n}\n\nexport default personsService\n","import React, { useState, useEffect } from 'react'\nimport PhonebookForm, {\n  PhonebookFilter,\n  PhonebookList,\n  SuccessBox,\n  FailureBox } from './components/Phonebook'\nimport personsService from './services/persons'\n\n// Phonebook exercise\nconst App = () => {\n  // Initialize states\n  // Array of person-objects\n  const [persons, setPersons] = useState([\n    {name: '', number: ''}\n  ])\n  // Next three states for user input\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  // Next two states for messages to display\n  const [success, setNewSuccess] = useState(null)\n  const [failure, setNewFailure] = useState(null)\n  // Function to reset successmessage\n  const resetSuccess = () => {\n    setTimeout( () => {\n      setNewSuccess(null)\n    }, 5000)\n  }\n  // Function to reset failuremessage\n  const resetFailure = () => {\n    setTimeout( () => {\n      setNewFailure(null)\n    }, 5000)\n  }\n  // Function to get list of persons from server\n  const fetchPersons = () =>\n    personsService.getAllPersons()\n    .then(response => {\n      setPersons(response.data)\n    }).catch(error => {\n      if (error.response) {\n        setNewFailure(\"Server responded, but there was another fault.\\nCheck your console.\")\n        console.log(error.response.data)\n        console.log(error.response.headers)\n        console.log(error.response.status)\n      } else if(error.request) {\n        setNewFailure(\"Request made to fetch persons, but no response received.\\nSee console.\")\n        console.log(error.request)\n      } else {\n        setNewFailure(\"Error: \", error.message)\n        console.log(error.message)\n      }\n      resetFailure()\n    })\n  // Get persons on first render\n  useEffect(fetchPersons, [])\n  // Function to add name to persons\n  const addName = (event) => {\n    // Fetch persons again to avoid conflict/duplicate entry from another client\n    // Doesn't really work tho because we'd have to wait\n    // fetchPersons()\n    event.preventDefault()\n    // Temporary object for person\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n    // Check for duplicate name-entry\n    const filtered = persons.filter(person =>\n        person.name.toLowerCase() === newName.toLowerCase())\n    if (filtered.length > 0) {\n      // Duplicate entry -> ask for edit\n      const msg = `${filtered[0].name} is already in the list.\\nWanna change number?`\n      if (window.confirm(msg)) {\n        personsService.changePerson(filtered[0], nameObject)\n        .then(response => {\n          // Success -> add response data so local persons matches server\n          setPersons(persons.map(person => person.id !== response.data.id\n            ? person\n            : response.data))\n            setNewSuccess(`Changed ${response.data.name}`)\n            resetSuccess()\n          }\n        ).catch(error => {\n          if (error.response) {\n            setNewSuccess(\"Server responded, but there was another fault(person probably already gone).\"\n              + \"\\nCheck your console.\")\n            resetSuccess()\n            console.log(error.response.data)\n            console.log(error.response.headers)\n            console.log(error.response.status)\n          } else if(error.request) {\n            setNewFailure(\"Request to edit person sent, but no response.\\nSee console.\")\n            console.log(error.request)\n          } else {\n            setNewFailure(error.message)\n          }\n          resetFailure()\n          }\n        )\n      }\n    } else { // Not a duplicate -> just add entry\n      personsService.postPerson(nameObject)\n      .then(response => {\n        // Success -> just add response data so local persons matches server\n        setPersons(persons.concat(response.data))\n        setNewSuccess(\"Person added.\")\n        resetSuccess()\n        }\n      ).catch(error => {\n        if(error.response) {\n          setNewFailure(\"Server responded, but there was another fault.\\nCheck your console.\")\n          console.log(error.response.data)\n          console.log(error.response.headers)\n          console.log(error.response.status)\n        } else if (error.request) {\n          setNewFailure(\"Request to add person sent, but no response.\\nSee console.\")\n          console.log(error.request)\n        } else {\n          setNewFailure(error.message)\n        }\n        resetFailure()\n      })\n    }\n    // Reset input-states again\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n  // Function to handle input to name field\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n  // Function to handle input to number field\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n  // Function to handle input to search field\n  const handleNewSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n  // Function to remove person\n  const handleRemoval = (person) => {\n    const msg = `Delete ${person.name}?`\n    if (window.confirm(msg)) {\n      // Check if person already removed by another client\n      personsService\n      .rmPerson(person)\n      .then(response => {\n        if (response.status === 204) {\n          setPersons(persons.filter( removed => removed.id !== person.id))\n          setNewSuccess(`Removed ${person.name}`)\n          resetSuccess()\n        }\n      }).catch(error => {\n        if (error.response) {\n          setNewFailure(\"Server responded, but there was another fault (person probably already removed).\\nCheck your console.\")\n          console.log(error.response.data)\n          console.log(error.response.headers)\n          console.log(error.response.status)\n        } else if(error.request) {\n          setNewFailure(\"Requested removal of person, but no response.\\nSee console.\")\n          console.log(error.request)\n        } else {\n          setNewFailure(error.message)\n        }\n        resetFailure()\n        // refetch persons in case there was conflict with server\n        fetchPersons()\n      })\n    }\n  }\n\n  return (\n    <div>\n      <SuccessBox message={success}/>\n      <FailureBox message={failure}/>\n      <h2>Phonebook</h2>\n      <PhonebookForm addName={addName} newName={newName} handleNewName={handleNewName}\n        newNumber={newNumber} handleNewNumber={handleNewNumber}/>\n      <h2>Numbers</h2>\n      <PhonebookFilter newSearch={newSearch} handleNewSearch={handleNewSearch}/>\n      <PhonebookList newSearch={newSearch} persons={persons} rmFunction={handleRemoval}/>\n\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}